# REST API Calls in React Native (fetch, axios)

---

## ðŸ”¹ What is a REST API?

**REST** (Representational State Transfer) is an architectural style used for communication between client and server using HTTP requests like:

| Method        | Purpose              |
| ------------- | -------------------- |
| **GET**       | Retrieve data        |
| **POST**      | Send new data        |
| **PUT/PATCH** | Update existing data |
| **DELETE**    | Remove data          |

React Native apps commonly interact with REST APIs for data like login, product list, user profile, etc.

---

## 1ï¸âƒ£ Making API requests with Fetch API

**Fetch** is built-in, requires no installation.

### âœ” Basic GET request

```javascript
fetch('https://api.example.com/users')
  .then((response) => response.json()) // Convert JSON
  .then((data) => console.log(data))
  .catch((error) => console.log('Error:', error));
```

### âœ” POST request with Fetch

```javascript
fetch('https://api.example.com/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ email: 'test@mail.com', password: '123456' }),
})
  .then((res) => res.json())
  .then((data) => console.log(data))
  .catch((err) => console.log(err));
```

### ðŸ”¥ Handling async/await (preferred in modern RN)

```javascript
async function getData() {
  try {
    const response = await fetch('https://api.example.com/users');
    const json = await response.json();
    console.log(json);
  } catch (error) {
    console.log(error);
  }
}
```

---

## 2ï¸âƒ£ Making API requests with Axios

**Axios** is a popular 3rd-party HTTP client with simpler syntax and more features.

### ðŸ”½ Install Axios

```bash
npm install axios
```

### âœ” GET request with Axios

```javascript
import axios from 'axios';

axios
  .get('https://api.example.com/users')
  .then((res) => console.log(res.data))
  .catch((err) => console.log(err));
```

### âœ” POST request with Axios + async/await

```javascript
async function login() {
  try {
    const response = await axios.post('https://api.example.com/login', {
      email: 'test@mail.com',
      password: '123456',
    });
    console.log(response.data);
  } catch (err) {
    console.log(err.message);
  }
}
```

---

## ðŸ”¥ Fetch vs Axios â€” Interview Comparison

| Feature                       | Fetch                 | Axios                      |
| ----------------------------- | --------------------- | -------------------------- |
| Built-in to RN/Web            | âœ” Yes                 | âŒ No (needs install)      |
| JSON Parsing                  | Manual (`res.json()`) | Auto (`res.data`)          |
| Request/Response Interceptors | âŒ No direct support  | âœ” Built-in                 |
| Automatic timeout             | âŒ No                 | âœ” Yes                      |
| File Upload & Download        | Basic support         | Better + Progress tracking |
| Error Handling                | Requires more work    | Cleaner & easier           |

**Key comment for interview:**
ðŸ‘‰ Axios is preferred for large applications due to interceptors, better error handling & features.

---

## 3ï¸âƒ£ Interceptors (important interview topic)

Useful for adding token auth, logging, refreshing tokens, etc.

```javascript
axios.interceptors.request.use(
  (config) => {
    config.headers.Authorization = 'Bearer token_here';
    return config;
  },
  (error) => Promise.reject(error)
);

axios.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // handle unauthorized
    }
    return Promise.reject(error);
  }
);
```

---

## 4ï¸âƒ£ Common Interview Questions & Answers

### â“ How do you handle API errors?

- Use `try/catch`
- Check `response.status`
- Show fallback UI or retry option

### â“ How do you handle loading state?

```javascript
const [loading, setLoading] = useState(false);

async function loadData() {
  setLoading(true);
  try {
    await axios.get(url);
  } finally {
    setLoading(false);
  }
}
```

### â“ How to store token after login?

Use **AsyncStorage**, **SecureStore** or **Keychain**.

```javascript
await AsyncStorage.setItem('token', response.data.token);
```

---

## Summary for Interview ðŸ“

> **Fetch** is native but basic. **Axios** is more developer-friendly with interceptors, auto JSON parsing, and cleaner syntax.
> Knowing both is valuable for real React Native projects.
