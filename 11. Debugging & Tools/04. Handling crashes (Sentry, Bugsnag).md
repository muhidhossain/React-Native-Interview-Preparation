# Handling Crashes in React Native (Sentry & Bugsnag)

---

## What are Crash Reporting Tools?

Crash reporting tools like **Sentry** and **Bugsnag** help you detect, track, and analyze runtime errors in React Native appsâ€”both **JavaScript errors** and **native crashes**.

They are essential for:

- Monitoring app stability
- Understanding crash frequency and impact
- Debugging production issues
- Getting alerts when something breaks
- Improving user experience by reducing crashes

---

## âœ… Why Crash Reporting Is Needed in React Native

React Native apps can fail for several reasons:

### 1. JavaScript Errors

- Undefined variables
- Async errors
- Bad API responses
- Promise rejections

### 2. Native Errors

- iOS/Android crashes in Objective-C, Swift, Java, or Kotlin
- Issues in native modules
- Incorrect linking or bridging

### 3. Performance Bottlenecks

- Memory leaks
- Long JS thread blocks

**Crash reporting tools capture all of these before the user sees a blank/white screen.**

---

## ðŸŸ¦ Sentry for React Native

### What Sentry Does

- Captures JS exceptions
- Captures native crashes (Android & iOS)
- Shows full stack trace
- Groups similar errors
- Tracks user sessions & release health
- Alerts via Slack/Email

### ðŸ”§ How Sentry Works

1. You install the SDK in your JS code
2. Sentry wraps the global error handler
3. When a crash occurs:
   - The stack trace + device info is sent to Sentry dashboard
   - Sentry groups similar errors â†’ so you can prioritize

### âš™ï¸ Typical Setup

```bash
npm install @sentry/react-native
npx @sentry/wizard -i reactNative
```

**In your index.js:**

```javascript
import * as Sentry from '@sentry/react-native';

Sentry.init({
  dsn: 'YOUR_DSN_HERE',
  tracesSampleRate: 1.0,
});
```

### â­ Interview-Level Features of Sentry

Be ready to talk about these:

#### 1. Source Maps

- Sentry needs source maps to convert bundled code â†’ readable stack trace
- (this is often an interview question)

#### 2. Breadcrumbs

- Logs timeline of actions before crash
- Example: button clicks, API calls, navigation events

#### 3. Performance Monitoring

- Tracks slow renders, large JS-thread tasks

#### 4. Offline Queueing

- Crashes send automatically when device comes online

#### 5. Release Tracking

- Helps identify which build introduced the crash

---

## ðŸŸ© Bugsnag for React Native

### What Bugsnag Does

- Captures JS + native crashes
- Provides **stability score** for your app
- Real-time alerts
- Automatic device + OS metadata
- Detects **ANRs (App Not Responding)** on Android

### âš™ï¸ Setup Example

```bash
npm install @bugsnag/react-native
npx bugsnag-react-native-cli init
```

**index.js**

```javascript
import Bugsnag from '@bugsnag/react-native';

Bugsnag.start({
  apiKey: 'YOUR_API_KEY',
});
```

### â­ Key Bugsnag Features (Interview Points)

#### 1. Automatic Error Grouping

Groups errors by:

- stack trace
- error type
- platform

#### 2. App Stability Score

- Shows how stable the app is over time
- (Useful for release decisions)

#### 3. Native Crash Support

- Better detailed native stack traces for Android/iOS
- (compared to some other tools)

#### 4. Breadcrumbs

Logs all events before error:

- network calls
- navigation
- device state
- Redux actions (if integrated)

#### 5. Manual Error Reporting

```javascript
try {
  riskyOperation();
} catch (e) {
  Bugsnag.notify(e);
}
```

---

## ðŸ†š Sentry vs. Bugsnag â€” Quick Comparison (Interview Ready)

| Feature                 | Sentry              | Bugsnag                    |
| ----------------------- | ------------------- | -------------------------- |
| JS Error Tracking       | âœ”ï¸                  | âœ”ï¸                         |
| Native Crash Tracking   | âœ”ï¸                  | âœ”ï¸                         |
| Performance Monitoring  | âœ”ï¸ Strong           | âž– Mainly stability        |
| UI/UX                   | Advanced dashboard  | Clean & developer-friendly |
| Breadcrumbs             | âœ”ï¸                  | âœ”ï¸                         |
| Release Stability Score | âž–                  | âœ”ï¸ Strong                  |
| Source Maps Upload      | Required            | Required                   |
| Offline Storage         | âœ”ï¸                  | âœ”ï¸                         |
| Pricing                 | Free tier available | Less generous free tier    |

**Common interview tip:**

> Sentry is best for engineering + performance insights; Bugsnag is best for debugging & stability analytics.

---

## ðŸ“ What Interviewers Usually Ask

Prepare for these common questions:

### 1. How do you capture a manual exception?

- **Sentry:** `Sentry.captureException(error)`
- **Bugsnag:** `Bugsnag.notify(error)`

### 2. How do you track errors in production?

â†’ Using **release tracking + source maps**.

### 3. How do you debug a native crash?

â†’ Crash reports include **native stack trace + device info + logs**.

### 4. Can Sentry/Bugsnag capture Redux actions or navigation events?

â†’ **Yes**, via **Breadcrumbs**.

### 5. Can it work offline?

â†’ **Yes**. Events are queued until network is available.

### 6. Why use Sentry/Bugsnag instead of console.log?

- Works in production
- Captures details automatically
- Tracks severity, users, frequency
- Helps prioritize issues

---

## ðŸŽ¯ Final Interview Summary (Short Version)

> "Sentry and Bugsnag are crash-reporting tools used to monitor and debug React Native apps. They capture JavaScript errors, native crashes, and performance issues, then send detailed reportsâ€”including stack traces, device data, breadcrumbs, and user sessionsâ€”to a dashboard. They support offline caching, release tracking, source maps, and native crash logs. Developers use them to identify, track, and fix issues in production quickly."
