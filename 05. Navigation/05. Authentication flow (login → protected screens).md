# Authentication Flow in React Native (Login â†’ Protected Screens)

---

## ğŸ” What is an Authentication Flow?

**Authentication flow** defines how a user logs in, stays logged in, and accesses protected (authorized) parts of an app.
In React Native, we usually implement this using **navigation + state management + persistent storage**.

---

## ğŸ— Core Concepts in an Auth Flow

| Concept               | Explanation                                                               |
| --------------------- | ------------------------------------------------------------------------- |
| **Auth state**        | Tracks whether user is logged in or not. (`isAuthenticated = true/false`) |
| **Login screen**      | Public screen â†’ No authentication required                                |
| **Protected screens** | Only visible after authentication                                         |
| **Token storage**     | Store token (JWT/session) securely using AsyncStorage / SecureStore       |
| **Auto login**        | Check token on app launch â†’ redirect accordingly                          |
| **Logout**            | Clear token â†’ redirect back to login                                      |

---

## ğŸš¦ General Flow

```
App Launch
   â†“
Check token in storage
   â†“
Yes â†’ Navigate to Home/Protected Screens
No â†’ Show Login Screen
```

### After login:

1. User enters credentials â†’ API verifies â†’ returns token
2. Save token to storage + set auth state
3. Navigate to protected screens

### Logout:

Clear token + clear auth state â†’ back to Login screen

---

## ğŸ”¥ Typical Implementation Approach

### 1ï¸âƒ£ Use Auth Context or Redux to store login state

```javascript
const AuthContext = createContext();

<AuthContext.Provider value={{ user, login, logout }}>
  {children}
</AuthContext.Provider>;
```

### 2ï¸âƒ£ Navigation Structure

```javascript
if (!isLoggedIn) {
  return <AuthStack />; // login, register
} else {
  return <AppStack />; // home, dashboard, profile...
}
```

### 3ï¸âƒ£ Secure Token Storage

- **AsyncStorage** â†’ Basic but less secure
- **expo-secure-store** or **Keychain (iOS)** / **EncryptedSharedPreferences (Android)** â†’ more secure

---

## âœ¨ Example Navigation Flow

```
NavigationContainer
 â”œâ”€ AuthStack
 â”‚   â””â”€ LoginScreen
 â”‚   â””â”€ RegisterScreen
 â””â”€ AppStack (Protected)
     â””â”€ HomeScreen
     â””â”€ ProfileScreen
     â””â”€ SettingsScreen
```

âœ” **AppStack** is only accessible after successful login.

---

## Interview Points You Can Say Confidently ğŸ’¡

âœ… Authentication flow decides when user can access which screens.

âœ… We maintain auth state using **Context/Redux/Zustand**.

âœ… Tokens must be stored securely; avoid storing in plain AsyncStorage if sensitive.

âœ… Always handle **token expiry / refresh tokens**.

âœ… Use **navigation conditional rendering** to show LoginStack vs AppStack.
