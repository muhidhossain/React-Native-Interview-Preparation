# Handling User Input in React Native: TextInput & KeyboardAvoidingView

---

## üìù 1. TextInput ‚Äî The Core Component for User Input

`TextInput` is the primary component in React Native for accepting user-entered text (email, password, search query, etc.).

### Key Features and Props

| Prop              | Description                                                                |
| ----------------- | -------------------------------------------------------------------------- |
| `value`           | Controlled input value                                                     |
| `onChangeText`    | Callback fired on text change                                              |
| `placeholder`     | Hint displayed before the user types                                       |
| `keyboardType`    | Controls the keyboard layout (`default`, `numeric`, `email-address`, etc.) |
| `secureTextEntry` | Hides text for passwords                                                   |
| `autoCapitalize`  | Controls auto-capitalization                                               |
| `multiline`       | Allows multi-line input                                                    |
| `maxLength`       | Limits characters                                                          |
| `onSubmitEditing` | Fires when user presses "submit" on keyboard                               |
| `returnKeyType`   | Controls the return button (`done`, `next`, `search`, etc.)                |

### üëâ Controlled vs Uncontrolled TextInput

**Controlled TextInput (Best Practice)**

You manage the text state in JavaScript.

```javascript
const [name, setName] = useState('');

<TextInput value={name} onChangeText={setName} placeholder="Enter your name" />;
```

**Uncontrolled TextInput**

Not recommended for most cases.

---

## üö® 2. Common TextInput Interview Topics

### üîπ Debouncing Input

Useful for search fields.

### üîπ Form Validation

Using libraries like:

- **Formik**
- **React Hook Form**
- **Yup** (schema validation)

### üîπ Handling Keyboard Events

- `onFocus`
- `onBlur`
- `onSubmitEditing`
- `onKeyPress`

---

## üéπ 3. KeyboardAvoidingView ‚Äî Preventing UI from Being Hidden by Keyboard

When the keyboard appears, it may overlay input fields.
`KeyboardAvoidingView` adjusts screen layout automatically so inputs remain visible.

### Important Props

| Prop                     | Description                                        |
| ------------------------ | -------------------------------------------------- |
| `behavior`               | How the view moves when the keyboard appears       |
| `padding`                | Moves entire view up by keyboard height            |
| `position`               | Moves view's position up                           |
| `height`                 | Adjusts height of view                             |
| `keyboardVerticalOffset` | Manual offset tuning (for headers/navigation bars) |

### Example

```javascript
import { KeyboardAvoidingView, Platform, TextInput, View } from 'react-native';

<KeyboardAvoidingView
  behavior={Platform.OS === 'ios' ? 'padding' : 'height'}
  keyboardVerticalOffset={Platform.OS === 'ios' ? 80 : 0}
  style={{ flex: 1 }}
>
  <View>
    <TextInput placeholder="Enter message" style={{ borderWidth: 1 }} />
  </View>
</KeyboardAvoidingView>;
```

### üîë Behavior Selection

| Platform | Recommended behavior                                        |
| -------- | ----------------------------------------------------------- |
| iOS      | `padding`                                                   |
| Android  | `height` or `none` ‚Üí Android handles keyboard automatically |

---

## üì± 4. Additional Keyboard Handling Techniques

### Keyboard API

React Native exposes listeners:

```javascript
import { Keyboard } from 'react-native';

useEffect(() => {
  const show = Keyboard.addListener('keyboardDidShow', () =>
    console.log('show')
  );
  const hide = Keyboard.addListener('keyboardDidHide', () =>
    console.log('hide')
  );

  return () => {
    show.remove();
    hide.remove();
  };
}, []);
```

Used when you want:

- Custom screen animations
- Scroll to input manually

---

## üß© 5. KeyboardAvoidingView vs ScrollView vs KeyboardAwareScrollView

| Component                                     | Use Case                         |
| --------------------------------------------- | -------------------------------- |
| `KeyboardAvoidingView`                        | Simple screens with 1‚Äì3 inputs   |
| `ScrollView` with `keyboardShouldPersistTaps` | Forms with many inputs           |
| `KeyboardAwareScrollView` (library)           | Auto-scroll to the focused input |

---

## üß™ 6. Interview-Ready Q&A

### Q1: Why use controlled TextInputs?

To keep UI and state in sync ‚Üí needed for validation, form submission, dynamic UI.

### Q2: Why does KeyboardAvoidingView behave differently on Android and iOS?

Because Android adjusts views by default, while iOS does not.

### Q3: What is keyboardVerticalOffset?

Offset used to prevent the keyboard from overlapping content when a navigation header is present.

### Q4: How do you dismiss the keyboard?

```javascript
Keyboard.dismiss();
```

Or wrap screen with:

```javascript
import { TouchableWithoutFeedback } from "react-native";

<TouchableWithoutFeedback onPress={Keyboard.dismiss}>
```

### Q5: Why do some forms still get hidden even inside KeyboardAvoidingView?

Common reasons:

- Missing `behavior`
- Wrong `keyboardVerticalOffset`
- Using absolute positioned components
- Parent view missing `flex: 1`

---

## üéØ Summary (Interview Quick Notes)

- **TextInput** ‚Üí Controlled components, validation, keyboard types
- Handle events like `onChangeText`, `onBlur`, `onSubmitEditing`
- Use **KeyboardAvoidingView** to prevent overlapping input fields
- Different behavior in **iOS vs Android**
- Use **Keyboard API** for manual control
- Use **ScrollView** or **KeyboardAwareScrollView** for long forms
