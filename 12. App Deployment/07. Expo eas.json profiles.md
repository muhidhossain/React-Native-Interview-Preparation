# Expo EAS Build Profiles â€” Interview Explanation

---

## What are EAS Build Profiles?

**`eas.json`** is the configuration file used by **Expo Application Services (EAS)** to define how your iOS and Android builds should behave.
It lets you create **multiple build profiles**â€”like `dev`, `preview`, `production`â€”each with different settings.

Think of build profiles as **different build environments** (similar to CI/CD pipelines).

---

## ðŸ“Œ Why EAS Build Profiles Are Important

Companies use EAS profiles to:

- Build separate versions for **QA, staging, production**
- Use different **environment variables** per build
- Enable / disable debugging features
- Control build optimizations
- Automate store releases

---

## ðŸ“‚ Structure of eas.json

A typical `eas.json` looks like this:

```json
{
  "build": {
    "development": {
      "developmentClient": true,
      "distribution": "internal"
    },
    "preview": {
      "distribution": "internal",
      "android": {
        "buildType": "apk"
      }
    },
    "production": {
      "autoIncrement": true,
      "ios": {
        "simulator": false
      },
      "android": {
        "buildType": "app-bundle"
      }
    }
  },
  "submit": {
    "production": {}
  }
}
```

---

## ðŸ” Common Build Profile Fields (Interview-Relevant)

### 1. developmentClient

- Creates a **custom client** with native modules.
- Used with **Expo Dev Client** instead of Expo Go.
- Faster testing with native dependencies.

---

### 2. distribution

Defines **how the app will be installed**:

| Value         | Meaning                                     |
| ------------- | ------------------------------------------- |
| `"store"`     | Production build for App Store / Play Store |
| `"internal"`  | Build for testers (APK/IPA)                 |
| `"simulator"` | iOS simulator build                         |

---

### 3. android.buildType

- `"apk"` â€“ good for internal testing, easier to install
- `"app-bundle"` â€“ used for Play Store upload

(Companies typically use **AAB** for production.)

---

### 4. ios.simulator

- `true` â†’ for iOS Simulator (x86_64)
- `false` â†’ for real devices / App Store

---

### 5. autoIncrement

Automatically bumps version numbers:

- **iOS:** `buildNumber`
- **Android:** `versionCode`

Useful for **CI/CD**.

---

### 6. Environment Variables

Profiles can load env variables:

```json
"env": {
  "API_URL": "https://staging.example.com"
}
```

Or external `.env` files:

```bash
eas build --profile preview --env-file .env.staging
```

---

## ðŸ“¦ Typical Profile Use Cases

### 1. Development Build

Used by developers locally.

```json
"development": {
  "developmentClient": true,
  "distribution": "internal"
}
```

---

### 2. Staging / QA Build

Used for internal testers.

```json
"preview": {
  "distribution": "internal",
  "android": { "buildType": "apk" }
}
```

---

### 3. Production Build

Used for store submission.

```json
"production": {
  "distribution": "store",
  "ios": { "simulator": false },
  "android": { "buildType": "app-bundle" }
}
```

---

## ðŸš€ How to Use a Build Profile

```bash
eas build --platform android --profile production
eas build --platform ios --profile preview
```

To submit directly to stores:

```bash
eas submit --profile production
```

---

## ðŸ§‘â€ðŸ’¼ Short Interview Answer

> "In Expo EAS, `eas.json` defines build profiles used to generate different types of buildsâ€”development, preview, and production. Each profile configures settings like distribution method (store/internal), build types (APK/AAB), environment variables, auto-incrementing versions, and whether to use the Expo Dev Client. This allows teams to automate consistent build workflows for testing, staging, and production deployments."
