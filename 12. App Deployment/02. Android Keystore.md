# Android Keystore â€” Explained for React Native Interview

---

## What is Android Keystore?

**Android Keystore** is a secure storage system on Android devices that stores **cryptographic keys** (private keys, signing keys, encryption keys) in a **hardware-backed or OS-protected environment**.

In simple terms:

> It keeps sensitive keys safe so they can't be accessed, exported, or tampered with â€” even if the app is compromised.

---

## ðŸŽ¯ Why is Android Keystore Important in React Native?

### 1. For Protecting Sensitive Credentials

React Native apps often need to store:

- JWT tokens
- Refresh tokens
- API secrets
- Encryption keys

Using a normal storage like **AsyncStorage is not secure**.

Instead, we use:

- `react-native-keychain`
- `expo-secure-store`
- `react-native-encrypted-storage`

**These libraries internally use Android Keystore for Android devices.**

---

## ðŸŽ¯ 2. For App Signing (Play Store Upload)

Android apps must be signed with:

- **Upload key**
- **App signing key**

These keys are securely stored in the **Android Keystore** when:

- You generate a keystore (`.jks`)
- Play Store manages **App Signing** (modern way for AAB)

React Native developers often deal with:

```
android/app/my-release-key.keystore
```

This keystore contains the signing key used for:

- Building release APK/AAB
- Publishing to Play Store

---

## ðŸŽ¯ 3. For Secure Storage in React Native

A React Native storage library uses Keystore like this:

### Example: react-native-keychain

- It stores encrypted data in **Android Keystore**
- The key material **never leaves** the secure hardware
- Apps only get access via **authorized API calls**

This protects your users even if:

- Device is rooted
- App files are reverse-engineered
- Someone extracts the APK

---

## ðŸ” How Android Keystore Works (Interview Level)

### 1. Each key is stored in a secure container

**Hardware-backed when possible:**

- Trusted Execution Environment (TEE)
- StrongBox (newer devices)

### 2. Keys are non-exportable

- You can **use** the key
- But you can **never read the key value itself**.

### 3. App-specific isolation

- One app cannot access another app's keys
- Keys cannot be transferred across devices

---

## ðŸ“Œ Keystore in React Native Release Build

You generate keys using:

```bash
keytool -genkey -v \
 -keystore my-release-key.keystore \
 -alias my-key-alias \
 -keyalg RSA -keysize 2048 -validity 10000
```

Then add to `gradle.properties`:

```properties
MYAPP_UPLOAD_STORE_FILE=my-release-key.keystore
MYAPP_UPLOAD_KEY_ALIAS=my-key-alias
MYAPP_UPLOAD_STORE_PASSWORD=xxxx
MYAPP_UPLOAD_KEY_PASSWORD=xxxx
```

This is crucial for:

- Building release builds
- Signing AAB/APK
- Play Store publishing

---

## ðŸŽ¤ Common Interview Questions & Answers

### Q1. Why can't we store tokens in AsyncStorage?

Because:

- AsyncStorage is **not encrypted**
- Anyone with root access can read it
- Tokens can be stolen â†’ account takeover risk

**Use Keychain** â†’ uses Android Keystore.

---

### Q2. How does Android Keystore protect the keys?

- Keys are stored in **hardware-backed secure storage (TEE)**
- Keys are **non-exportable**
- Only **app-level access** permitted

---

### Q3. How does React Native use Keystore internally?

Through:

- `react-native-keychain`
- `expo-secure-store`

**These libraries call Android Keystore APIs under the hood.**

---

### Q4. Do APK and AAB signing keys use Keystore?

**Yes** â€” signing keys are stored in a `.keystore` file managed by the Android Keystore system.

---

## â­ Final Summary (Interview Ready)

> **Android Keystore is a secure system that stores cryptographic keys on Android devices.**  
> **React Native uses it through libraries like Keychain or SecureStore to safely store tokens, passwords, and secrets.**  
> **It also manages the release-signing keys used to upload apps to the Play Store.**
