# Expo Over-the-Air (OTA) Updates â€” Explained for Interviews

---

## What are OTA Updates?

**Expo OTA updates** allow you to deliver JavaScript code and asset updates to users instantly, **without submitting a new build** to the App Store or Google Play.

Think of OTA as **"pushing updates like the web", but for mobile apps.**

---

## ðŸ”¥ Why OTA Updates Exist

Normally, in React Native:

- Any change in **native code** â†’ requires rebuilding + resubmitting to stores.
- **JS-only changes** (UI, business logic) could be shipped faster if not tied to app store reviews.

**Expo solves this with Updates API + Expo Updates service.**

---

## ðŸŽ¯ What OTA Updates Can Deliver

### You can update:

- JavaScript files
- React components
- Styles
- Bundled assets (e.g., images)

### You cannot update:

- Anything involving **native modules** or native configuration
  - (e.g., adding a new library requiring native code)

---

## ðŸ› ï¸ How OTA Works

1. You run:

```bash
expo publish
```

2. Expo bundles your JS + assets and uploads them to Expo's CDN.
3. The installed app periodically **checks for updates** on the CDN.
4. The new JS bundle is **downloaded and cached** locally.
5. On next app reload (or immediate, depending on your config), the update applies.

---

## ðŸ§  Key Concepts to Mention in Interviews

### 1. Managed Workflow uses OTA out of the box

Expo apps automatically support OTA â€” no custom configuration needed.

---

### 2. Required Config in app.json / app.config.js

```json
{
  "expo": {
    "updates": {
      "enabled": true,
      "fallbackToCacheTimeout": 0
    }
  }
}
```

**fallbackToCacheTimeout**

- `0` â†’ app loads the newest update immediately
- `> 0` â†’ app waits that many ms for an OTA check before using cached bundle

---

### 3. Update Triggers

Expo supports different update behaviors:

#### Foreground updates

Downloaded when the app is opened.

#### Background updates

Downloaded while the app is running.

#### Immediate updates

Use:

```javascript
import * as Updates from 'expo-updates';

if (Updates.checkForUpdateAsync()) {
  await Updates.fetchUpdateAsync();
  Updates.reloadAsync();
}
```

---

### 4. Limitations

**You must mention these, interviewers expect them:**

#### âŒ Cannot update:

- Native code
- Native libraries (adding/removing)
- Permissions
- `app.json` items that affect native code (e.g., splash screen, icons, bundle identifiers)

#### â— OTA updates work only for:

- JS code
- JS logic
- JS assets

---

### 5. Production Safety

You should implement **update channels** (EAS Update):

- `production`
- `staging`
- `development`

This prevents updates meant for dev from reaching real users.

**Example:**

```bash
eas update --branch production --message "Fix crop calculation logic"
```

---

## ðŸ“¦ Expo OTA vs EAS Update

### Expo Publish (classic OTA)

- Provided by Expo CDN
- Only JS/asset updates
- Simple but deprecated for large apps

### EAS Update (recommended)

- More advanced
- Supports branches, runtime versions, rollouts
- Enterprise-level control

---

## ðŸ§‘â€ðŸ’¼ Interview-Ready Short Answer

> "Expo OTA Updates let you push JavaScript and asset updates to your React Native app instantly, without rebuilding or resubmitting to app stores. Expo hosts your JS bundle on a CDN, and the app automatically downloads updates when it launches. OTA only works for JS changesâ€”not native codeâ€”so native changes still require a full app store release. EAS Update is the modern recommended system that allows branching, rollouts, and version targeting."
