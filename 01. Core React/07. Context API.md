# Context API ‚Äî React & React Native Interview Explanation

## ‚úÖ What is Context API?

The **Context API** is a built-in state management solution in React that allows you to share data across the component tree without passing props manually at every level (prop-drilling).

It provides a way to create **global state** for your app.

---

## üß† Why do we need Context API?

Without Context, you might have:

```
App ‚Üí Parent ‚Üí Child ‚Üí GrandChild ‚Üí ComponentThatNeedsData
```

Passing props through all levels becomes messy.
**Context API** solves this by letting you pass data directly to the components that need it.

---

## üß© Important Concepts

### 1Ô∏è‚É£ React.createContext()

Creates a Context object.

```jsx
const ThemeContext = React.createContext();
```

### 2Ô∏è‚É£ Provider

Shares the value to all its children.

```jsx
<ThemeContext.Provider value={{ theme, setTheme }}>
  <App />
</ThemeContext.Provider>
```

### 3Ô∏è‚É£ Consumer / useContext Hook

Consumes the value inside a component.

**Using hook:**

```jsx
const { theme } = useContext(ThemeContext);
```

**Using Consumer:**

```jsx
<ThemeContext.Consumer>
  {(value) => <Text>{value.theme}</Text>}
</ThemeContext.Consumer>
```

---

## üì¶ Example: Simple Theme Context (React & React Native same logic)

### üëâ Context Setup

```jsx
// ThemeContext.js
import { createContext } from 'react';

export const ThemeContext = createContext();
```

### üëâ Provider

```jsx
// ThemeProvider.js
import { useState } from 'react';
import { ThemeContext } from './ThemeContext';

export const ThemeProvider = ({ children }) => {
  const [theme, setTheme] = useState('light');

  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      {children}
    </ThemeContext.Provider>
  );
};
```

### üëâ Wrap App

```jsx
// App.js
import { ThemeProvider } from './ThemeProvider';

export default function App() {
  return (
    <ThemeProvider>
      <Home />
    </ThemeProvider>
  );
}
```

### üëâ Consume Context (React Native example)

```jsx
import { useContext } from 'react';
import { ThemeContext } from './ThemeContext';
import { Text, View, Button } from 'react-native';

export default function Home() {
  const { theme, setTheme } = useContext(ThemeContext);

  return (
    <View>
      <Text>Current theme: {theme}</Text>
      <Button
        title="Toggle Theme"
        onPress={() => setTheme(theme === 'light' ? 'dark' : 'light')}
      />
    </View>
  );
}
```

---

## üèó Where is Context API used in real projects?

**Common uses:**

- Authentication state (user logged in or not)
- Theme (dark/light)
- Language / i18n
- Global app settings
- Cart management (small apps)
- Selected item state

---

## ‚ö†Ô∏è When NOT to use Context API

**Managing large, complex state**  
‚Üí Use Redux/RTK, Zustand, Recoil, Jotai.

**When state updates happen very frequently**  
‚Üí Context re-renders all children ‚Üí performance issue.

---

## üìå Performance Tip

Context re-renders all descendants when value changes.

**To optimize:**

1. **Split contexts** (AuthContext, ThemeContext, etc.)

2. **Memoize provider value:**

```jsx
const value = useMemo(() => ({ theme, setTheme }), [theme]);
```

---

## üéØ Common Interview Questions

### ‚úî 1. What problem does Context API solve?

Avoids prop drilling and allows global state management.

### ‚úî 2. How is Context API different from Redux?

| Context API                  | Redux                           |
| ---------------------------- | ------------------------------- |
| Built-in                     | External library                |
| Simple global state          | Complex state management        |
| No devtools                  | Powerful devtools               |
| No middleware                | Middleware (thunk, saga)        |
| Not good for very large apps | Perfect for large scalable apps |

### ‚úî 3. Does Context API cause performance issues?

Yes, frequent updates re-render all children. Use optimization techniques.

### ‚úî 4. Can you use Context API with useReducer?

Yes ‚Äî very common pattern.

```jsx
const [state, dispatch] = useReducer(reducer, initialState);
```

---

## üß© useReducer + Context (Senior-Level Pattern)

```jsx
export const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [state, dispatch] = useReducer(authReducer, { user: null });

  return (
    <AuthContext.Provider value={{ state, dispatch }}>
      {children}
    </AuthContext.Provider>
  );
};
```

This mimics Redux but simpler.

---

## ‚úÖ Short Answer (For Quick Interviews)

**Context API** is a built-in React mechanism for passing data through the component tree without using prop drilling. It allows us to create global state accessible anywhere in the app using a **Provider** and the **useContext** hook. Best for simple global states like theme, auth, or user preferences.
